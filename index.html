<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Full Screen Image Popup with Background Audio</title>
  <style>
    body {
      padding: 0;
      margin: 0;
      overflow: hidden;
    }

    .content {
      display: block;
      position: absolute;
      height: 100%;
      width: 100%;
      color: black;
    }

    .content img {
      width: 100%;
    }

    .curtainContainer {
      position: absolute;
      display: flex;
      top: -10%;
      width: 100%;
      height: 110%;
      margin: auto;
      transform-style: preserve-3d;
      overflow: hidden;
      transition: transform 6s ease;
    }

    .curtainContainer:nth-child(1) {
      transform-origin: -120% top;
      justify-content: flex-start;
      transform: translatex(-5vw);
    }

    .curtainContainer:nth-child(2) {
      transform-origin: 120% top;
      justify-content: flex-end;
      transform: translatex(15vw);
    }

    .rollLeft {
      transform: translatex(-150vw) scaleX(0);
    }

    .rollRight {
      transform: translatex(150vw) scaleX(0);
    }

    .curtainBody:not(.clicked) .curtainContainer {
      transform: translatex(0) scaleX(1);
    }

    .curtainBody.clicked .curtainContainer:nth-child(1) {
      transform: translatex(-150vw) scaleX(0);
    }

    .curtainBody.clicked .curtainContainer:nth-child(2) {
      transform: translatex(150vw) scaleX(0);
    }

    .unCurtain {
      display: inline-block;
      width: 15vw;
      margin: 0;
      padding: 0;
      height: 120vh;
      background-size: 100% 100%;
      background: repeating-linear-gradient(to left, #dd3232 4vw, #911818 12vw, #ec8989 15vw);
      transform-origin: 0 0%;
      transform: rotate(3deg);
      transition: transform 4s ease;
      animation: swing 2s ease infinite;
    }

    @keyframes swing {
      50% {
        transform: rotate(-3deg);
      }
    }

    .unCurtain:nth-child(2) {
      margin-left: -10vw;
      animation-delay: -0.1s;
    }

    .unCurtain:nth-child(3) {
      margin-left: -10vw;
      animation-delay: -0.2s;
    }

    .unCurtain:nth-child(4) {
      margin-left: -10vw;
      animation-delay: -0.3s;
    }

    .unCurtain:nth-child(5) {
      margin-left: -10vw;
      animation-delay: -0.4s;
    }

    .unCurtain:nth-child(6) {
      margin-left: -10vw;
      animation-delay: -0.5s;
    }

    .unCurtain:nth-child(7) {
      margin-left: -10vw;
      animation-delay: -0.6s;
    }

    .unCurtain:nth-child(8) {
      margin-left: -10vw;
      animation-delay: -0.7s;
    }

    .unCurtain:nth-child(9) {
      margin-left: -10vw;
      animation-delay: -0.8s;
    }

    .unCurtain:nth-child(10) {
      margin-left: -10vw;
      animation-delay: -0.9s;
    }

    .unCurtain:nth-child(11) {
      margin-left: -10vw;
      animation-delay: -1s;
    }

    .unCurtain:nth-child(12) {
      width: 10vw;
      background: repeating-linear-gradient(to left, #dd3232 4vw, #911818 8vw, #ec8989 10vw);
      margin-left: -10vw;
      animation-delay: -1.1s;
    }

    .curtainBody {
      display: block;
      position: absolute;
      width: 100%;
      height: 100%;
    }

    .overlay {
      display: block;
      position: absolute;
      color: white;
      top: 0%;
      left: 0%;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(to top, rgba(2, 2, 2, 0) 0vh, #000 100vh);
      transition: opacity 3s ease;
    }

    .curtainBody.clicked .overlay {
      opacity: 0;
    }

    audio {
      display: none; /* Hide the audio player */
    }
  </style>
</head>
<body>

  <audio id="background-audio" loop>
    <source src="k.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <div class="content">
    <img src="https://images.unsplash.com/photo-1558970439-add78fc68990?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1179&q=80"></img>
  </div>
  <div class="curtainBody" onclick="toggleCurtain()">
    <div id="leftCurtain" class="curtainContainer">
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
    </div>
    <div id="rightCurtain" class="curtainContainer">
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
      <div class="unCurtain"></div>
    </div>
    <div class="overlay"></div>
  </div>

  <script>
    function toggleCurtain() {
      document.querySelector(".curtainBody").classList.add("clicked");
      slide();
      showPopupAndPlayAudio();
    }

    function slide() {
      document.getElementsByClassName("curtainContainer")[0].style.transform =
        "translatex(-150vw) ";
      document.getElementsByClassName("curtainContainer")[1].style.transform =
        "translatex(150vw)";
    }

    // Function to show the popup and play audio after a delay
    function showPopupAndPlayAudio() {
      document.getElementById('background-audio').play();
    }

    // Set a delay of 3 seconds (3000 milliseconds)
    setTimeout(showPopupAndPlayAudio, 3000);
  </script>

</body>
</html>
